<div class="document-container">
    <div class="header">
        <h1>Document <span class="gradient-text">Generator</span></h1>
        <p>Create professional business documents with AI assistance</p>
    </div>

    <div class="content-grid">
        <!-- Input Panel -->
        <div class="input-panel">
            <!-- REQUIRED FIELDS -->
            <div class="form-section">
                <h3><span class="step-number">1</span> Document Details</h3>

                <div class="form-group">
                    <label class="form-label">Document Type *</label>
                    <select [(ngModel)]="documentType" class="form-select">
                        <option *ngFor="let type of documentTypes" [value]="type.value">{{ type.label }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Document Title *</label>
                    <input type="text" [(ngModel)]="documentTitle" placeholder="e.g., Q4 Marketing Strategy"
                        class="form-input">
                </div>

                <div class="form-group">
                    <label class="form-label">Purpose *</label>
                    <input type="text" [(ngModel)]="purpose" placeholder="e.g., Secure funding for new project"
                        class="form-input">
                </div>

                <div class="form-group">
                    <label class="form-label">Target Audience *</label>
                    <input type="text" [(ngModel)]="targetAudience" placeholder="e.g., Executive Team, Investors"
                        class="form-input">
                </div>
            </div>

            <div class="form-section">
                <h3><span class="step-number">2</span> Key Content</h3>
                <div class="form-group">
                    <label class="form-label">Key Points * (One per line or comma-separated)</label>
                    <textarea [(ngModel)]="keyPointsInput" rows="4" class="form-textarea" placeholder="- Executive summary
- Market analysis
- Financial projections"></textarea>
                </div>
            </div>

            <!-- OPTIONAL FIELDS -->
            <div class="form-section">
                <details>
                    <summary>Optional Settings & Preferences</summary>

                    <div class="grid-2col mt-4">
                        <div class="form-group">
                            <label class="form-label">Tone Style</label>
                            <select [(ngModel)]="toneStyle" class="form-select">
                                <option *ngFor="let tone of toneStyles" [value]="tone">{{ tone }}</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Length</label>
                            <select [(ngModel)]="length" class="form-select">
                                <option *ngFor="let l of lengths" [value]="l">{{ l }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Formatting Preference</label>
                        <select [(ngModel)]="formattingPreference" class="form-select">
                            <option *ngFor="let format of formattingPreferences" [value]="format">{{ format }}</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Attachments Description</label>
                        <textarea [(ngModel)]="attachmentsDescription" rows="2"
                            placeholder="Describe any attachments..." class="form-textarea"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Additional Context</label>
                        <textarea [(ngModel)]="context" rows="3" placeholder="Any other details..."
                            class="form-textarea"></textarea>
                    </div>
                </details>
            </div>

            <button (click)="generateDocument()"
                [disabled]="!documentTitle || !purpose || keyPoints.length === 0 || isLoading" class="generate-btn">
                <span *ngIf="!isLoading">üöÄ Generate Document</span>
                <span *ngIf="isLoading" class="loading-spinner">‚è≥ Generating...</span>
            </button>

            <div *ngIf="error" class="error-message">
                <span class="error-icon">‚ö†Ô∏è</span>
                {{ error }}
            </div>
        </div>

        <!-- Results Panel -->
        <div class="results-panel">
            <div *ngIf="!result" class="empty-state">
                <div class="empty-icon">üìù</div>
                <h3>Your Generated Document</h3>
                <p class="empty-message">
                    Fill in the details on the left to create a professional document.
                    Our AI will structure and write it for you instantly.
                </p>
            </div>

            <div *ngIf="result" class="results-content">
                <div class="stats-row">
                    <div class="stat-card">
                        <span class="value">{{ result.word_count }}</span>
                        <span class="label">Words</span>
                    </div>
                    <div class="stat-card">
                        <span class="value">{{ result.readability_score }}</span>
                        <span class="label">Readability</span>
                    </div>
                </div>

                <div class="document-content">
                    <div *ngFor="let section of result.sections" class="section">
                        <h4>{{ section.title }}</h4>
                        <pre>{{ section.content }}</pre>
                    </div>
                </div>

                <div class="actions-row" style="margin-top: 20px; text-align: right;">
                    <button (click)="downloadDocument()" class="generate-btn" style="width: auto; padding: 0 20px;">
                        üì• Download Document
                    </button>
                </div>

                <div class="suggestions-section" *ngIf="result.suggestions && result.suggestions.length > 0">
                    <h3>üí° Improvement Suggestions</h3>
                    <ul class="suggestions-list">
                        <li *ngFor="let suggestion of result.suggestions">{{ suggestion }}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>