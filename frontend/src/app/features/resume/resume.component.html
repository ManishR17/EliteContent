<div class="resume-container">
    <div class="header">
        <h1>Resume <span class="gradient-text">Tailor</span></h1>
        <p>Optimize your resume for any job description using AI</p>
    </div>

    <div class="content-grid">
        <div class="input-panel">
            <div class="upload-section">
                <h3>1. Upload Resume</h3>
                <input type="file" (change)="onFileSelected($event)" accept=".pdf,.docx" class="file-input">
            </div>

            <div class="job-section">
                <h3>2. Job Description</h3>
                <textarea [(ngModel)]="jobDescription" placeholder="Paste the job description here..."
                    rows="10"></textarea>
            </div>

            <button (click)="analyzeResume()" [disabled]="!selectedFile || !jobDescription || isLoading"
                class="analyze-btn">
                {{ isLoading ? 'Analyzing...' : 'Analyze & Tailor' }}
            </button>

            <div *ngIf="error" class="error">{{ error }}</div>
        </div>

        <div class="results-panel">
            <div *ngIf="!result" class="empty-state">
                <div class="empty-icon">ðŸ“„</div>
                <h3>Your Tailored Resume</h3>
                <p class="empty-message">Upload your resume and paste a job description to get started. Your ATS-optimized resume will appear here.</p>
            </div>

            <div *ngIf="result">
                <div class="score-card">
                    <div class="score-circle">
                        <span class="score">{{ result.ats_score }}</span>
                        <span class="label">ATS Score</span>
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>Missing Skills</h3>
                    <div class="tags">
                        <span *ngFor="let skill of result.missing_skills" class="tag missing">{{ skill }}</span>
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>Matched Skills</h3>
                    <div class="tags">
                        <span *ngFor="let skill of result.matched_skills" class="tag matched">{{ skill }}</span>
                    </div>
                </div>

                <div class="preview-section">
                    <h3>Tailored Resume Preview</h3>
                    <div class="preview-content">
                        {{ result.tailored_resume }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>